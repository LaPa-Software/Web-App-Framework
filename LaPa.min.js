!function(){"use strict";function init(){var PAWS=decodeURI("%F0%9F%90%BE"),SERVICE_HOST="http://lapastudio.xyz",LaPa=window.LaPa={};LaPa[PAWS]={major:3,minor:1,build:2,stable:!0,stage:"alpha",toString:function(){return"LaPa Web App FrameWork "+this.major+"."+this.minor+"."+this.stage+"."+this.build}};var init_time=LaPa.init_time=Date.now(),CONF=LaPa.CONF=LaPa.CONF||{},LIB=LaPa.LIB={},HOOK={},EXT={},activeHooks={};LaPa.historyAPI={state:function(a){LaPa.noHistory=!0,a.page&&LaPa.page(a.page)},push:function(a,b,c){c=c?c:LaPa.CONF.staticUrl?null:a,history.pushState({page:a},b,c)},replace:function(a,b,c){history.replaceState({page:a},b,c?c:a)}},LaPa.HOOK={reg:function(a,b,c,d){d=d||LaPa.tmpLibId||Object.keys(HOOK).length,b=b||!1,HOOK[d]={trigger:a,page:b,func:c},activeHooks[a]&&LaPa.HOOK.call(a,!1,!1,d)},call:function(a,b,c,d,e){if(c&&(activeHooks[a]=!0),d)return void HOOK[d].func(e||null);var f=Object.keys(HOOK);for(var g in f)(!b||0!=HOOK[f[g]].page&&b==HOOK[f[g]].page)&&HOOK[f[g]].trigger==a&&HOOK[f[g]].func(e||null)},release:function(a){delete activeHooks[a]},list:function(){return Object.keys(HOOK)}},LaPa.EXT={reg:function(a){return!EXT[a]&&(EXT[a]={paired:[]},!0)},pair:function(a,b){return!!EXT[a]&&(EXT[a].paired.push(b),!0)},get:function(a,b,c){if(!EXT[a])return b;for(var d in EXT[a].paired)EXT[a].paired[d](b,c);return b},list:function(){return EXT},check:function(a){return!!EXT[a]&&0!=EXT[a].paired.length}},LaPa.execLib=function(id){LaPa.tmpLibId=id,eval(LaPa.LIB[id]),delete LaPa.tmpLibId,LaPa.HOOK.call("initLib",!1,!1,id)},LaPa.require=function(a,b,c){if(LaPa.CONF.useRepo&&(c=!0),LaPa.LIB[a])return b&&b(),!0;var d=new XMLHttpRequest;d.open("GET",(c?SERVICE_HOST+("/lib/"+a.split("/").reverse()[0]):a)+"?rnd="+(new Date).getTime(),!0),d.responseType="text",d.onload=function(){200==this.status?(LaPa.LIB[a]=this.response,LaPa.execLib(a),b&&b()):c||LaPa.require(a,b,!0)},d.send()},LaPa.importLib=function(a){return!LaPa.LIB[a]&&(LaPa.LIB[a]=!0)},LaPa.message=function(a){alert(a)},LaPa.initHost=function(){if(localStorage.getItem("LaPaHostInit"))return!0;if("localhost"==location.hostname)return!1;var a=new XMLHttpRequest,b='https://LaPaSoftware.projects.ponomarevlad.ru'+"/api.php?initHost="+location.hostname+"&time="+Math.round(LaPa.init_time/1e3)+"&rnd="+(new Date).getTime();a.open("GET",b,!0),a.responseType="text",a.onload=function(){200==this.status?localStorage.setItem("LaPaHostInit",!0):localStorage.setItem("LaPaHostInit",!1)},a.send()},LaPa.init=init,window.addEventListener("popstate",function(a){LaPa.historyAPI.state(a.state)},!1)}function postInit(){LaPa.init_time=Date.now()-LaPa.init_time,LaPa.HOOK.call("initLib",!1,!0),LaPa.HOOK.call("readyPage",!1,!0),LaPa.initHost()}window.LaPa||(init(),addEventListener("load",postInit))}();